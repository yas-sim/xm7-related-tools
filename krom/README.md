# 当時ホームページに載せていた内容をマークダウン用に修正
---
★漢字ROMファイル(KANJI.ROM)ジェネレータ


== 説明 ==

　XM7で漢字を使うには、KANJI.ROMというファイルが必要です。しかし、FM-7では漢字ROMはオプションだったため、持っていない方も多いのではないでしょうか(私は持ってたけど捨ててしまいました)。
このプログラムはWindowsのFIXED SYSフォントからXM7に必要なKANJI.ROMファイルを生成するプログラムです。

[krom.exe](bin/krom.exe) v0.0 ダウンロード (32KB)


== 使い方 ==

　GUIってなんだっけ？とか思っちゃうくらいシンプルなプログラムです。ダウンロードしたら、krom.exeを実行してください。けしからんことに、画面の左上に勝手に漢字を書いてそのパターンを読み出し、KANJI.ROMファイルを作成します(しかも書いた漢字を消さない (^^;)。
ファイルは実行ファイルと同じディレクトリに作成されるはずです。
必ずDOS窓モードで実行してください。


== 注意事項など　==

　プログラムは、GDIを使用して漢字を描画したり、ドットパターンを読み取ったりしています。そのため、必ずDOS窓Windowモードにて使用してください。DOS窓全画面モードでも実行できてしまいますが、その場合出来上がったKANJI.ROMファイルの中身は不正です。

現在のプログラム(v0.0)では描画に使用するフォントをプログラム中で指定していません(めんどくさいから)。私の環境では正しく漢字ファイルが作成できていますが、環境によっては(デフォルトフォントが違うなど?)うまく漢字の作成ができないかもしれません。そのときはご一報ください。次期バージョン(そんなのあるのか?)でフォント指定を入れるかもしれません(^^;

　プログラムはFM-7の漢字アドレスをJISコードに逆変換して漢字データを生成してしています。そのため、JISコードの規定されていない文字のコードを指定した場合、おかしな文字が表示されてしまうかもしれません。

余談ですが、このファイルの中身をそのままROMに焼いて、適当なデコーダをつければFM-7用漢字ROMカードを作れます。